Ch 5

--Example of check constraint
create table orders( 
order_id serial, 
quantity numeric check ( quantity>0)); 
check ( quantity>0)

--Example of constraint keyword
create table orders( order_id serial, quantity numeric constraint no_zero_quantity check(quantity>0)); 
insert into orders (quantity) values (-2)

--Example of check constraint wth multiple columns
create table products( product_no integer name text,
price numeric check(price>0),
discounted_price numeric check (discounted_price >0) );

--Example of check as table level constraint
create table products( product_no integer name text,
price numeric check(price>0),
discounted_price numeric check (discounted_price >0), check(price > discounted_price)
);

--Example of unique constraint
CREATE TABLE Employees (
    Eid integer,
    Ename text,
    salary numeric CHECK (salary > 0),  	birth_date date,  	date_of_joining date not null,  	email varchar(20) unique,  	constraint valid_joining check  (birth_date > date_of_joining)   );

--To define unique constraint on a group of column, write it as table level constraint with the column name separated by commas, as shown
CREATE TABLE Employees (
    Eid integer,     Ename text,     salary numeric CHECK (salary > 0),  	birth_date date,  	date_of_joining date not null,  	email varchar(20),  	phone_number bigint,  	constraint valid_joining check  (birth_date > date_of_joining),  	constraint email_phone unique (email,phone_number)
  );

--You can use a CHECK constraint to force a column to accept not NULL values, as given
CREATE TABLE Employees (
    Eid integer not null,     Ename text,     salary numeric CHECK (salary > 0),  	birth_date date not null,  	date_of_joining date check (date_of_joining is not null),  	email varchar(20),  	phone_number bigint,  	constraint valid_joining check  (birth_date > date_of_joining),  	constraint email_phone unique (email,phone_number)
  );

--Example of primary key
CREATE TABLE Employees (
    Eid integer primary key,     Ename text,     salary numeric CHECK (salary > 0),  	email varchar(20),  	phone_number bigint,  	constraint email_phone unique (email,phone_number)   );

--Create a product table whose primary key is a combination of product_id and category_id
create table products( product_id int, category_id varchar, unit_price numeric, constraint PK_Products primary key(product_id,category_id));

--Example of idedntity column
CREATE TABLE fruit (     fruit_id INT GENERATED ALWAYS AS IDENTITY  	(START WITH 10 INCREMENT BY 10),     fruit_name VARCHAR NOT NULL );

--Example of generated by default
CREATE TABLE fruit (
    fruit_id INT GENERATED By Default AS IDENTITY,
    fruit_name VARCHAR NOT NULL
); 
insert into fruit(fruit_name) values('Banana'); 
insert into fruit values(5,'Apple');



